name: Playwright Tests
on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main
jobs:
  playwright:
    name: Playwright test
    if: >
      github.event_name == 'push' ||
      (
        github.event_name == 'pull_request' &&
        !contains(github.event.pull_request.changed_files, 'LICENSE') &&
        !contains(github.event.pull_request.changed_files, 'CODEOWNERS') &&
        !contains(github.event.pull_request.changed_files, '.gitignore') &&
        !contains(github.event.pull_request.changed_files, '.nais/**') &&
        !contains(github.event.pull_request.changed_files, '.github/dependabot.yaml') &&
        !contains(github.event.pull_request.changed_files, '.github/workflows/deploy.yaml') &&
        !contains(github.event.pull_request.changed_files, '.github/workflows/manual-deploy-dev.yaml') &&
        !contains(github.event.pull_request.changed_files, '.github/workflows/build-pr.yaml') &&
        !contains(github.event.pull_request.changed_files, '.github/workflows/security.yaml') &&
        !contains(github.event.pull_request.changed_files, '**/*.md')
      )
    uses: navikt/monster-gha-workflows/.github/workflows/playwright.yaml@main
